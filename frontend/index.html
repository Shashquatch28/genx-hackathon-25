<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Plain Speak AI</title>
  <link rel="icon" type="image/jpg" href="logo.jpg" sizes="32x32">
  <link rel="shortcut icon" href="logo.jpg" type="image/jpg">
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <a class="skip-link" href="#analyze">Skip to content</a>
  <!-- NAV -->
  <nav class="navbar" id="navbar" role="navigation" aria-label="Primary">
    <div class="nav-inner">
      <a href="#home" class="brand">PlainSpeak<span>AI</span></a>
      <button class="nav-toggle" id="navToggle" aria-expanded="false" aria-controls="navLinks" aria-label="Toggle navigation">‚ò∞</button>
      <ul class="nav-links" id="navLinks">
        <li><a href="#home" class="nav-link active" aria-current="page">Home</a></li>
        <li><a href="#analyze" class="nav-link">Analyze</a></li>
        <li><a href="#results" class="nav-link">Results</a></li>
        <li><a href="#timeline" class="nav-link">Timeline</a></li>
        <li><a href="#risks" class="nav-link">Risk Radar</a></li>
        <li><a href="#contextualizer" class="nav-link">Contextualizer</a></li>
        <li><a href="#about" class="nav-link">About</a></li>
      </ul>
    </div>
  </nav>

  <main id="main" tabindex="-1">
    <!-- HOME -->
    <header id="home" class="hero sect>
      <div class="hero-content">
        <h1>Smart Contract Analyzer</h1>
        <p>Upload a file or chat with the AI to extract key clauses, risks, dates, and insights ‚Äî fast.</p>
        <a href="#analyze" class="btn primary"><span class="btn-label">Get Started</span></a>
      </div>
    </header>

    <!-- ANALYZE -->
    <section id="analyze" class="section card" aria-labelledby="analyze-title">
      <h2 id="analyze-title">Analyze Your Document</h2>
      <p class="muted">Supported: .pdf, .docx, .txt</p>
      <div class="upload-row">
        <label for="fileInput" class="visually-hidden">Choose a document to analyze</label>
        <input type="file" id="fileInput" accept=".pdf,.docx,.txt" />
        <button id="uploadBtn" class="btn" aria-live="polite" aria-busy="false">
          <span class="spinner" aria-hidden="true"></span>
          <span class="btn-label">Upload & Analyze</span>
        </button>
      </div>
      <div id="uploadStatus" class="status" role="status" aria-live="polite"></div>

      <div class="or-divider" aria-hidden="true"><span>or</span></div>

      <div class="ask-row">
        <label for="quickQuestion" class="visually-hidden">Quick question</label>
        <input type="text" id="quickQuestion" placeholder="Ask a quick question about your contract‚Ä¶" />
        <button id="askBtn" class="btn ghost"><span class="btn-label">Ask</span></button>
      </div>
    </section>

    <!-- RESULTS -->
    <section id="results" class="section card" aria-labelledby="results-title">
      <div class="flex-header">
        <h2 id="results-title">Results</h2>
        <div class="pill" id="fileBadge" hidden>no file</div>
      </div>
      <div class="tabs" role="tablist" aria-label="Result views">
        <button class="tab-btn active" data-tab="simple" role="tab" aria-selected="true" aria-controls="simple">Simplified</button>
        <button class="tab-btn" data-tab="advanced" role="tab" aria-selected="false" aria-controls="advanced">Advanced</button>
      </div>
      <div id="resultsEmpty" class="empty-state" role="status">
        <div class="empty-icon" aria-hidden="true">üìÑ‚ú®</div>
        <p>No results yet. Upload a document to get started.</p>
      </div>
      <div id="simple" class="tab-content active" role="tabpanel" tabindex="0"></div>
      <div id="advanced" class="tab-content" role="tabpanel" tabindex="0"></div>
    </section>

    <!-- TIMELINE -->
    <section id="timeline" class="section card" aria-labelledby="timeline-title">
      <h2 id="timeline-title">Important Dates & Events</h2>
      <div id="timelineEmpty" class="empty-state" role="status">
        <div class="empty-icon" aria-hidden="true">üóìÔ∏è</div>
        <p>No timeline extracted yet.</p>
      </div>
      <ul id="timelineList" class="timeline" aria-live="polite"></ul>
    </section>

    <!-- RISK RADAR -->
    <section id="risks" class="section card" aria-labelledby="risks-title">
      <h2 id="risks-title">Risk Radar</h2>
      <div id="risksEmpty" class="empty-state" role="status">
        <div class="empty-icon" aria-hidden="true">‚ö†Ô∏è</div>
        <p>No risks identified yet.</p>
      </div>
      <ul id="riskList" class="risk-grid" aria-live="polite"></ul>
    </section>

    <!-- CONTEXTUALIZER -->
    <section id="contextualizer" class="section card" aria-labelledby="contextualizer-title">
      <h2 id="contextualizer-title">Smart Contextualizer</h2>
      <p class="muted">Select text from your contract to get personalized explanations based on your role and situation.</p>
      
      <div class="contextualizer-controls">
        <div class="context-form">
          <div class="form-row">
            <label for="userRole">Your Role</label>
            <select id="userRole">
              <option value="tenant">Tenant</option>
              <option value="landlord">Landlord</option>
              <option value="employee">Employee</option>
              <option value="employer">Employer</option>
              <option value="customer">Customer</option>
              <option value="vendor">Vendor</option>
              <option value="reader">General Reader</option>
            </select>
          </div>
          
          <div class="form-row">
            <label for="userLocation">Location (Optional)</label>
            <input type="text" id="userLocation" placeholder="e.g., California, New York">
          </div>
          
          <div class="form-row">
            <label for="contractType">Contract Type</label>
            <select id="contractType">
              <option value="">Select type</option>
              <option value="lease">Lease/Rental</option>
              <option value="employment">Employment</option>
              <option value="mortgage">Mortgage</option>
              <option value="saas">SaaS/Software</option>
              <option value="service">Service Agreement</option>
              <option value="purchase">Purchase Agreement</option>
            </select>
          </div>
          
          <div class="form-row">
            <label for="explanationTone">Explanation Style</label>
            <select id="explanationTone">
              <option value="plain">Plain English</option>
              <option value="lawyer">Legal Detail</option>
              <option value="exec">Executive Summary</option>
            </select>
          </div>
        </div>
        
        <div class="text-selection">
          <label for="selectedText">Selected Contract Text</label>
          <textarea id="selectedText" placeholder="Copy and paste the contract clause you want explained..." rows="4"></textarea>
          <button id="explainBtn" class="btn primary">
            <span class="spinner" aria-hidden="true"></span>
            <span class="btn-label">Explain This Clause</span>
          </button>
        </div>
      </div>
      
      <div id="contextualizerEmpty" class="empty-state" role="status">
        <div class="empty-icon" aria-hidden="true">üîç</div>
        <p>Select contract text and configure your context to get personalized explanations.</p>
      </div>
      
      <div id="contextualizerResult" class="contextualizer-result" style="display: none;">
        <h3>Explanation</h3>
        <div id="explanationText" class="explanation-content"></div>
        <div id="usedHints" class="used-hints" style="display: none;">
          <h4>Legal Context Used</h4>
          <ul id="hintsList"></ul>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="section card" aria-labelledby="about-title">
      <h2 id="about-title">About This Project</h2>
      <p>
        Built for GenX Hackathon 2025: a fast, friendly analyzer that turns legalese into
        clear summaries, highlights risks, and surfaces key dates. Featuring a live chatbot for Q&A.
      </p>
    </section>
  </main>

  <!-- CHATBOT -->
  <button id="chatToggle" class="chat-toggle" aria-label="Open chat" aria-haspopup="dialog">üí¨</button>
  <aside id="chatPanel" class="chat-panel" role="dialog" aria-modal="true" aria-labelledby="chatTitle" aria-describedby="chatDesc" aria-live="polite">
    <div class="chat-header">
      <h3 id="chatTitle">Assistant</h3>
      <button id="chatClose" class="icon-btn" aria-label="Close chat">‚úï</button>
    </div>
    <p id="chatDesc" class="visually-hidden">Chat with the assistant about your contract. Press Escape to close.</p>
    <div id="chatMessages" class="chat-messages">
      <div class="msg bot">Hi! Upload a file or ask me anything about your contract.</div>
    </div>
    <form id="chatForm" class="chat-input" autocomplete="off">
      <label for="chatText" class="visually-hidden">Type your message</label>
      <input id="chatText" type="text" placeholder="Type your message‚Ä¶" required />
      <button class="btn primary" id="chatSend" type="submit">
        <span class="spinner" aria-hidden="true"></span>
        <span class="btn-label">Send</span>
      </button>
    </form>
  </aside>

  <script src="app.js"></script>
</body>
</html>
