:root{
  --bg:#0b1020;
  --card:#0f152b;
  --muted:#9aa3b2;
  --text:#eaf1ff;
  --brand:#6aa6ff;
  --brand-2:#9a6aff;
  --ok:#32d296;
  --warn:#ffd166;
  --danger:#ff6b6b;
  --shadow:0 10px 30px rgba(0,0,0,.25);
  --focus:#b2d4ff;
}

/* Reset-ish */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  color:var(--text);
  background:
    radial-gradient(1400px 900px at 10% 0%, #1a2140 0%, transparent 60%),
    radial-gradient(1400px 900px at 90% 10%, #251a40 0%, transparent 60%),
    var(--bg);
  background-repeat: no-repeat, no-repeat, no-repeat;
  background-attachment: fixed, fixed, fixed;
  background-size: 1600px 1000px, 1600px 1000px, auto;
}

/* Accessibility helpers */
.visually-hidden{ position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0 }
.skip-link{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden }
.skip-link:focus{ left:16px; top:12px; width:auto; height:auto; padding:8px 10px; background:#000; color:#fff; border-radius:8px }
*:focus-visible{ outline:2px solid var(--focus); outline-offset:2px; border-radius:8px }

/* Navbar */
.navbar{
  position:sticky; top:0; z-index:50;
  backdrop-filter:saturate(160%) blur(10px);
  background:rgba(12,16,34,.6);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.nav-inner{
  max-width:1100px; margin:auto; padding:12px 16px;
  display:flex; align-items:center; justify-content:space-between;
}
.brand{
  color:var(--text); font-weight:800; text-decoration:none; letter-spacing:.3px; font-size:1.15rem;
}
.brand span{ color:var(--brand) }
.nav-links{
  list-style:none; display:flex; gap:14px; margin:0; padding:0;
}
.nav-link{
  color:var(--muted); text-decoration:none; padding:8px 10px; border-radius:10px;
}
.nav-link:hover,.nav-link.active{ color:var(--text); background:rgba(255,255,255,.06) }
.nav-toggle{ display:none; background:transparent; color:var(--text); font-size:1.25rem; border:none }

/* Hero */
.section{ padding:64px 18px }
.hero{
  display:grid; place-items:center; text-align:center;
  min-height:55vh; position:relative; overflow:hidden;
}
.hero::after{
  content:""; position:absolute; inset:-20%;
  background: radial-gradient(600px 300px at 50% 0%, rgba(106,166,255,.15), transparent 60%),
              radial-gradient(600px 300px at 50% 100%, rgba(154,106,255,.1), transparent 60%);
  pointer-events:none;
}
.hero .hero-content{ max-width:900px }
h1{ font-size:clamp(1.8rem, 3vw, 3rem); margin:0 0 12px }
h2{ font-size:1.4rem; margin:0 0 14px }
.muted{ color:var(--muted) }
.center{ text-align:center }

.btn{
  background:linear-gradient(135deg, var(--brand), var(--brand-2));
  color:#fff; border:none; padding:10px 16px; border-radius:12px; cursor:pointer;
  box-shadow:var(--shadow); transition:transform .08s ease;
}
.btn:hover{ transform:translateY(-1px) }
.btn.ghost{
  background:transparent; border:1px solid rgba(255,255,255,.16);
}
.btn[disabled]{ opacity:.6; cursor:not-allowed }
.btn .spinner{ display:none; width:14px; height:14px; border:2px solid rgba(255,255,255,.5); border-top-color:#fff; border-radius:50%; margin-right:8px; animation:spin 1s linear infinite }
.btn.loading .spinner{ display:inline-block }
.btn.loading .btn-label{ opacity:.9 }
@keyframes spin{ to{ transform:rotate(360deg) } }

.card{
  max-width:1000px; margin:24px auto;
  background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.08);
  border-radius:18px; box-shadow:var(--shadow);
}

/* Empty state */
.empty-state{ display:flex; align-items:center; justify-content:center; gap:10px; color:var(--muted); padding:18px; border:1px dashed rgba(255,255,255,.12); border-radius:12px; background:rgba(0,0,0,.15); margin-bottom:12px }
.empty-icon{ font-size:20px; opacity:.9 }

/* Analyze */
.upload-row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center }
.upload-row input[type="file"]{
  background:var(--card); color:var(--text); border:1px dashed rgba(255,255,255,.18);
  padding:10px; border-radius:12px; width:320px; max-width:100%;
}
.status{ margin-top:10px; color:var(--muted) }
.or-divider{ display:flex; align-items:center; justify-content:center; gap:10px; margin:18px 0; color:var(--muted) }
.or-divider::before,.or-divider::after{
  content:""; height:1px; width:80px; background:rgba(255,255,255,.12);
}
.ask-row{ display:flex; gap:10px; flex-wrap:wrap }
.ask-row input{
  flex:1; min-width:260px; background:var(--card); color:var(--text);
  border:1px solid rgba(255,255,255,.12); border-radius:12px; padding:10px 12px;
}

/* Results */
.flex-header{ display:flex; align-items:center; justify-content:space-between; gap:10px }
.pill{
  padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.08);
  color:var(--muted); font-size:.9rem;
}
.tabs{ display:flex; gap:10px; margin:10px 0 12px }
.tab-btn{
  flex:1; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.08);
  color:var(--muted); padding:8px 10px; border-radius:12px; cursor:pointer;
}
.tab-btn.active{ background:linear-gradient(135deg, var(--brand), var(--brand-2)); color:#fff }
.tab-content{
  display:none; background:rgba(0,0,0,.25); border:1px solid rgba(255,255,255,.08);
  border-radius:14px; padding:14px; min-height:90px; white-space:pre-wrap; line-height:1.5;
}
.tab-content.active{ display:block }

/* Smooth fade for content areas */
.tab-content, .timeline, .risk-grid{ transition:opacity .2s ease, transform .2s ease }
.tab-content.enter, .timeline.enter, .risk-grid.enter{ opacity:0; transform:translateY(4px) }
.tab-content.enter.active, .timeline.enter.ready, .risk-grid.enter.ready{ opacity:1; transform:none }

/* Timeline */
.timeline{ list-style:none; padding:0; margin:0; display:grid; gap:10px }
.timeline li{
  background:rgba(255,255,255,.04); border-left:4px solid var(--brand);
  padding:10px 12px; border-radius:10px; color:var(--text);
}

/* Risks */
.risk-grid{ list-style:none; padding:0; margin:0; display:grid; gap:12px;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); }
.risk-grid li{
  background:rgba(255,255,255,.04); border-left:4px solid var(--danger);
  padding:12px; border-radius:12px;
}

/* Footer */
footer{ opacity:.8 }

/* Chatbot */
.chat-toggle{
  position:fixed; right:18px; bottom:18px; z-index:60;
  width:54px; height:54px; border-radius:999px; border:none; cursor:pointer;
  box-shadow:var(--shadow);
  background:linear-gradient(135deg, var(--brand), var(--brand-2)); color:#fff; font-size:20px;
}
.chat-panel{
  position:fixed; right:18px; bottom:84px; width:360px; max-width:92vw;
  height:520px; background:rgba(13,18,40,.98);
  border:1px solid rgba(255,255,255,.08); border-radius:16px; box-shadow:var(--shadow);
  display:none; flex-direction:column; overflow:hidden; z-index:70;
}
.chat-panel.open{ display:flex; animation:pop .12s ease-out }
@keyframes pop{ from{transform:translateY(8px); opacity:.6} to{transform:none; opacity:1} }
.chat-header{
  display:flex; align-items:center; justify-content:space-between; padding:10px 12px;
  border-bottom:1px solid rgba(255,255,255,.08);
}
.icon-btn{ background:transparent; border:none; color:var(--text); font-size:18px; cursor:pointer }
.chat-messages{
  padding:12px; overflow:auto; display:flex; flex-direction:column; gap:10px; flex:1;
}
.msg{
  padding:10px 12px; border-radius:12px; max-width:82%;
  box-shadow:0 4px 14px rgba(0,0,0,.18); white-space:pre-wrap; line-height:1.45;
}
.msg.user{ margin-left:auto; background:linear-gradient(135deg, #3a7bd5, #3a6073); color:#fff }
.msg.bot{ background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.06) }
.msg.thinking{ opacity:.75; font-style:italic }
.chat-input{ display:flex; gap:8px; padding:10px; border-top:1px solid rgba(255,255,255,.08) }
.chat-input input{
  flex:1; background:var(--card); color:var(--text); border:1px solid rgba(255,255,255,.12);
  border-radius:12px; padding:10px 12px;
}

/* Reduce motion preference */
@media (prefers-reduced-motion: reduce){
  *{ animation-duration:.001ms !important; animation-iteration-count:1 !important; transition-duration:.001ms !important; scroll-behavior:auto !important }
}

/* Responsive nav */
@media (max-width: 860px){
  .nav-toggle{ display:block }
  .nav-links{
    position:absolute; right:12px; top:58px; background:rgba(12,16,34,.95);
    border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:10px; flex-direction:column;
    display:none; min-width:200px;
  }
  .nav-links.open{ display:flex }
}